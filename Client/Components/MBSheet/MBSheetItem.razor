<AntList Bordered DataSource="@MBSheetRequestItems" Size="small" Style="margin-bottom: 1rem;">
    <Header>
        <Row Justify="space-between" Align="center">
            <AntDesign.Col>@MBItemDescription</AntDesign.Col>
            <AntDesign.Col>
                <Row>
                    <Popconfirm Title="Sure to remove line item?"
                                OnConfirm="@RemoveAllMBSheetItems"
                                OkText="Yes"
                                CancelText="No">
                        <Button Size="@ButtonSize.Small" Danger Icon="@IconType.Outline.Delete" Shape="@ButtonShape.CircleOutline" />
                    </Popconfirm>
                    <Button OnClick="@AddMBSheetItem" Size="@ButtonSize.Small" Icon="@IconType.Outline.Plus" Type="@ButtonType.Primary" Shape="@ButtonShape.CircleOutline" Style="margin-left: 0.25rem;" />
                </Row>
            </AntDesign.Col>
        </Row>
    </Header>
    <ChildContent Context="item">
        <ListItem>
            <Row Gutter="6" Style="width:100%">
                <AntDesign.Col Span="12">
                    <Row Gutter="6">
                        <AntDesign.Col>
                            <Button OnClick="() => RemoveMBSheetItem(item)"
                                    Size="@ButtonSize.Small"
                                    Danger
                                    Icon="@IconType.Outline.Delete"
                                    Shape="@ButtonShape.CircleOutline" />
                        </AntDesign.Col>
                        <AntDesign.Col>
                            <Text>Description:</Text>
                        </AntDesign.Col>
                        <AntDesign.Col>
                            <Text Mark>@item.Description</Text>
                        </AntDesign.Col>
                    </Row>
                </AntDesign.Col>
                <AntDesign.Col Span="2">
                    <Row Gutter="6">
                        <AntDesign.Col>
                            <Text>Uom:</Text>
                        </AntDesign.Col>
                        <AntDesign.Col>
                            <Text Mark>@item.Uom</Text>
                        </AntDesign.Col>
                    </Row>
                </AntDesign.Col>
                <AntDesign.Col Span="2">
                    <Row Gutter="6">
                        <AntDesign.Col>
                            <Text>No:</Text>
                        </AntDesign.Col>
                        <AntDesign.Col>
                            <Text Mark>@item.Nos</Text>
                        </AntDesign.Col>
                    </Row>
                </AntDesign.Col>
                <AntDesign.Col Span="2">
                    <Row Gutter="6">
                        <AntDesign.Col>
                            <Text>Val1:</Text>
                        </AntDesign.Col>
                        <AntDesign.Col>
                            <Text>@item.Value1</Text>
                        </AntDesign.Col>
                    </Row>
                </AntDesign.Col>
                @if (item.Dimension > 1)
                {
                    <AntDesign.Col Span="2">
                        <Row Gutter="6">
                            <AntDesign.Col>
                                <Text>Val2:</Text>
                            </AntDesign.Col>
                            <AntDesign.Col>
                                <Text>@item.Value2</Text>
                            </AntDesign.Col>
                        </Row>
                    </AntDesign.Col>
                }
                @if (item.Dimension > 2)
                {
                    <AntDesign.Col Span="2">
                        <Row Gutter="6">
                            <AntDesign.Col>
                                <Text>Val3:</Text>
                            </AntDesign.Col>
                            <AntDesign.Col>
                                <Text>@item.Value3</Text>
                            </AntDesign.Col>
                        </Row>
                    </AntDesign.Col>
                }
                <AntDesign.Col Span="2">
                    <Row Gutter="6">
                        <AntDesign.Col>
                            <Text>Qty:</Text>
                        </AntDesign.Col>
                        <AntDesign.Col>
                            <Text Mark>@item.Total</Text>
                        </AntDesign.Col>
                    </Row>
                </AntDesign.Col>
            </Row>
        </ListItem>
    </ChildContent>
</AntList>

@code {
    [Parameter]
    public string MBItemDescription { get; set; }

    [Parameter]
    public List<MBSheetItemRequest> MBSheetRequestItems { get; set; }

    [Parameter]
    public EventCallback<bool> OnRemoveSelectedItem { get; set; }

    [Parameter]
    public EventCallback<bool> OnRemoveMBSheetItem { get; set; }

    [Parameter]
    public EventCallback<bool> OnOpenSideDrawer { get; set; }

    [Parameter]
    public int MBSheetItemHash { get; set; }

    [Parameter]
    public EventCallback<int> MBSheetItemHashChanged { get; set; }


    void AddMBSheetItem()
    {
        OnOpenSideDrawer.InvokeAsync();
    }

    void RemoveAllMBSheetItems()
    {
        OnRemoveSelectedItem.InvokeAsync();
    }

    async Task RemoveMBSheetItem(MBSheetItemRequest item)
    {
        await MBSheetItemHashChanged.InvokeAsync(item.GetHashCode());
        await OnRemoveMBSheetItem.InvokeAsync();
    }
}
